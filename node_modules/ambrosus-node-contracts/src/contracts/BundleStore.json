{
  "contractName": "BundleStore",
  "updatedAt": "2019-09-30T12:36:31.655Z",
  "abi": [
    {
      "constant": false,
      "inputs": [
        {
          "name": "targetContractAddress",
          "type": "address"
        }
      ],
      "name": "migrateFunds",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "context",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_head",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "uploader",
          "type": "address"
        }
      ],
      "name": "BundleStored",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "SheltererAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "SheltererRemoved",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "bundleExists",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getUploader",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getUploadTimestamp",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getUploadBlockNumber",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getStoragePeriodsCount",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        }
      ],
      "name": "getShelterers",
      "outputs": [
        {
          "name": "",
          "type": "address[]"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "getShelteringStartDate",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "getTotalShelteringReward",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "getShelteringPayoutPeriodsReduction",
      "outputs": [
        {
          "name": "",
          "type": "uint64"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "uploader",
          "type": "address"
        },
        {
          "name": "storagePeriods",
          "type": "uint64"
        },
        {
          "name": "currentTimestamp",
          "type": "uint64"
        }
      ],
      "name": "store",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        },
        {
          "name": "totalReward",
          "type": "uint256"
        },
        {
          "name": "payoutPeriodsReduction",
          "type": "uint64"
        },
        {
          "name": "currentTimestamp",
          "type": "uint64"
        }
      ],
      "name": "addShelterer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "index",
          "type": "uint32"
        }
      ],
      "name": "removeSheltererByIndex",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bundleId",
          "type": "bytes32"
        },
        {
          "name": "shelterer",
          "type": "address"
        }
      ],
      "name": "removeShelterer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506040516020806121cc8339810180604052810190808051906020019092919050505080806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050612147806100856000396000f3006080604052600436106100db576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806309593f0c146100e05780631e92a4dd146101315780632b660ec3146101a25780632bea7d40146101e757806339bfa9721461026a5780636eefbbc1146102e357806388115f871461033c5780638c7ed456146103b557806390df40351461041a5780639cc8a3d3146104735780639d28e7a7146104ec5780639e75be4914610535578063bf51929f146105bb578063d0496d6a146105fe578063f863b2ff14610655575b600080fd5b3480156100ec57600080fd5b5061012f6004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610696565b005b34801561013d57600080fd5b50610160600480360381019080803560001916906020019092919050505061099b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101ae57600080fd5b506101d160048036038101908080356000191690602001909291905050506109e3565b6040518082815260200191505060405180910390f35b3480156101f357600080fd5b506102686004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803567ffffffffffffffff169060200190929190803567ffffffffffffffff169060200190929190505050610a21565b005b34801561027657600080fd5b506102b96004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610e87565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b3480156102ef57600080fd5b506103126004803603810190808035600019169060200190929190505050610f29565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b34801561034857600080fd5b506103b36004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803567ffffffffffffffff169060200190929190803567ffffffffffffffff169060200190929190505050610f65565b005b3480156103c157600080fd5b506104046004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061131a565b6040518082815260200191505060405180910390f35b34801561042657600080fd5b506104496004803603810190808035600019169060200190929190505050611383565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b34801561047f57600080fd5b506104c26004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506113bf565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b3480156104f857600080fd5b5061051b600480360381019080803560001916906020019092919050505061143c565b604051808215151515815260200191505060405180910390f35b34801561054157600080fd5b50610564600480360381019080803560001916906020019092919050505061145a565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b838110156105a757808201518184015260208101905061058c565b505050509050019250505060405180910390f35b3480156105c757600080fd5b506105fc600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611506565b005b34801561060a57600080fd5b506106136119cd565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561066157600080fd5b506106946004803603810190808035600019169060200190929190803563ffffffff169060200190929190505050611a94565b005b61069e6119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561073857600080fd5b505af115801561074c573d6000803e3d6000fd5b505050506040513d602081101561076257600080fd5b8101908080519060200190929190505050151561080d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b6108168261143c565b151561082157600080fd5b600060016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900467ffffffffffffffff1667ffffffffffffffff1614156108ab57610997565b6109238260016000856000191660001916815260200190815260200160002060020160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900463ffffffff16611a94565b7fc5eb711c58cddc98e191455ec6df357e70e641a4579c29eb0f009eac1047623b82826040518083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a15b5050565b600060016000836000191660001916815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600060016000836000191660001916815260200190815260200160002060030160109054906101000a900463ffffffff1663ffffffff169050919050565b610a296119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b158015610ac357600080fd5b505af1158015610ad7573d6000803e3d6000fd5b505050506040513d6020811015610aed57600080fd5b81019080805190602001909291905050501515610b98576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b610ba18561143c565b1515610bac57600080fd5b600060016000876000191660001916815260200190815260200160002060020160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900467ffffffffffffffff1667ffffffffffffffff16141515610c3757600080fd5b6001600086600019166000191681526020019081526020016000206001018490806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506080604051908101604052808267ffffffffffffffff1681526020018367ffffffffffffffff168152602001848152602001610d1760018060008a600019166000191681526020019081526020016000206001018054905003611fdf565b63ffffffff1681525060016000876000191660001916815260200190815260200160002060020160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060208201518160000160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506040820151816001015560608201518160020160006101000a81548163ffffffff021916908363ffffffff1602179055509050507feb687f41634dc064abd8231b4a7fc182cd16d2372b98e207c39a9cb436d2dccc85856040518083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a15050505050565b600080610e9484846113bf565b67ffffffffffffffff161415610ead5760009050610f23565b60016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160089054906101000a900467ffffffffffffffff1690505b92915050565b600060016000836000191660001916815260200190815260200160002060030160009054906101000a900467ffffffffffffffff169050919050565b610f6d6119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561100757600080fd5b505af115801561101b573d6000803e3d6000fd5b505050506040513d602081101561103157600080fd5b810190808051906020019092919050505015156110dc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b6110e58461143c565b1515156110f157600080fd5b60008267ffffffffffffffff1611151561110a57600080fd5b60a0604051908101604052808473ffffffffffffffffffffffffffffffffffffffff16815260200160006040519080825280602002602001820160405280156111625781602001602082028038833980820191505090505b5081526020018367ffffffffffffffff1681526020018267ffffffffffffffff16815260200161119143611fdf565b63ffffffff1681525060016000866000191660001916815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019080519060200190611218929190611ffd565b5060408201518160030160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060608201518160030160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060808201518160030160106101000a81548163ffffffff021916908363ffffffff1602179055509050507f9a8974aeaf2fa4a5bfe46041ec8a404e94d1e9c4d37fcce995f60f8d311c3acb84846040518083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019250505060405180910390a150505050565b600060016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010154905092915050565b600060016000836000191660001916815260200190815260200160002060030160089054906101000a900467ffffffffffffffff169050919050565b600060016000846000191660001916815260200190815260200160002060020160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900467ffffffffffffffff16905092915050565b60008061144883610f29565b67ffffffffffffffff16119050919050565b60606001600083600019166000191681526020019081526020016000206001018054806020026020016040519081016040528092919081815260200182805480156114fa57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116114b0575b50505050509050919050565b61150e6119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1580156115a857600080fd5b505af11580156115bc573d6000803e3d6000fd5b505050506040513d60208110156115d257600080fd5b8101908080519060200190929190505050151561167d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b6116856119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51306040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561171f57600080fd5b505af1158015611733573d6000803e3d6000fd5b505050506040513d602081101561174957600080fd5b81019080805190602001909291905050501515156117f5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602b8152602001807f43616c6c656420636f6e74726163742063616e206e6f7420626520636f6e746581526020017f787420696e7465726e616c00000000000000000000000000000000000000000081525060400191505060405180910390fd5b6117fd6119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51826040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15801561189757600080fd5b505af11580156118ab573d6000803e3d6000fd5b505050506040513d60208110156118c157600080fd5b8101908080519060200190929190505050151561196c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260298152602001807f54617267657465642061646472657373206d75737420626520636f6e7465787481526020017f20696e7465726e616c000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff166108fc3073ffffffffffffffffffffffffffffffffffffffff16319081150290604051600060405180830381858888f193505050501580156119c9573d6000803e3d6000fd5b5050565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663d0496d6a6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015611a5457600080fd5b505af1158015611a68573d6000803e3d6000fd5b505050506040513d6020811015611a7e57600080fd5b8101908080519060200190929190505050905090565b611a9c6119cd565b73ffffffffffffffffffffffffffffffffffffffff166302008d51336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b158015611b3657600080fd5b505af1158015611b4a573d6000803e3d6000fd5b505050506040513d6020811015611b6057600080fd5b81019080805190602001909291905050501515611c0b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f546865206d6573736167652073656e646572206973206e6f742077686974656c81526020017f69737465642062792074686520636f6e7465787400000000000000000000000081525060400191505060405180910390fd5b611c148261143c565b1515611c1f57600080fd5b8063ffffffff1660016000846000191660001916815260200190815260200160002060010180549050111515611c5457600080fd5b60016000836000191660001916815260200190815260200160002060020160006001600085600019166000191681526020019081526020016000206001018363ffffffff16815481101515611ca557fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600080820160006101000a81549067ffffffffffffffff02191690556000820160086101000a81549067ffffffffffffffff021916905560018201600090556002820160006101000a81549063ffffffff02191690555050600160008360001916600019168152602001908152602001600020600101600180600085600019166000191681526020019081526020016000206001018054905003815481101515611db057fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166001600084600019166000191681526020019081526020016000206001018263ffffffff16815481101515611e0c57fe5b9060005260206000200160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060016000846000191660001916815260200190815260200160002060020160006001600086600019166000191681526020019081526020016000206001018463ffffffff16815481101515611ea657fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160006101000a81548163ffffffff021916908363ffffffff160217905550600160008360001916600019168152602001908152602001600020600101600180600085600019166000191681526020019081526020016000206001018054905003815481101515611f7a57fe5b9060005260206000200160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001806000846000191660001916815260200190815260200160002060010181818054905003915081611fda9190612087565b505050565b60008190508063ffffffff1682141515611ff557fe5b809050919050565b828054828255906000526020600020908101928215612076579160200282015b828111156120755782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509160200191906001019061201d565b5b50905061208391906120b3565b5090565b8154818355818111156120ae578183600052602060002091820191016120ad91906120f6565b5b505050565b6120f391905b808211156120ef57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016120b9565b5090565b90565b61211891905b808211156121145760008160009055506001016120fc565b5090565b905600a165627a7a72305820e812b95f7d7ac4871c1b0043a7d4f7f4c92e516b6d152c1b35150b2103ad8d740029"
}